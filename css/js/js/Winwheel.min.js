<!DOCTYPE html>
<html>
<head>
    <title>Winwheel Example</title>
    <style>
        /* Basic styling for centering */
        body { text-align: center; font-family: sans-serif; }
        canvas { margin-top: 20px; }
    </style>
</head>
<body>

    <h1>My Prize Wheel</h1>

    <canvas id='canvas' width='400' height='400'>
        Canvas not supported, use another browser.
    </canvas>

    <br>

    <button id="spinButton">Spin!</button>

    <script src='https://cdnjs.cloudflare.com/ajax/libs/gsap/latest/TweenMax.min.js'></script>
    <script src='js/Winwheel.min.js'></script>
    <script>
        // Ensure the DOM is loaded before running script
        document.addEventListener('DOMContentLoaded', (event) => {

            // Create new wheel object specifying the parameters
            let theWheel = new Winwheel({
                'canvasId'    : 'canvas', // Id of the canvas
                'numSegments' : 4,        // Number of segments
                'outerRadius' : 150,      // Radius of the wheel
                'textFontSize': 18,       // Font size
                'segments'    :           // Define segments including color and text
               ,
                'animation' :           // Specify the animation to use
                {
                    'type'     : 'spinToStop', // Spin and stop
                    'duration' : 5,     // Duration in seconds
                    'spins'    : 8,     // Number of complete spins
                    'callbackFinished' : alertPrize // Function to call when animation finishes
                }
            });

            // Function to be called when the spinning has finished
            function alertPrize(indicatedSegment) {
                alert("You have won " + indicatedSegment.text + "!");
                // Re-enable button after animation finishes
                spinButton.disabled = false;
            }

            // Get the spin button element
            let spinButton = document.getElementById('spinButton');

            // Assign click handler to the spin button
            spinButton.addEventListener('click', () => {
                // Disable button while spinning
                spinButton.disabled = true;
                // Start the animation
                theWheel.startAnimation();
            });
        });
    </script>

</body>
</html>
